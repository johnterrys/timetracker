function css(n,t){for(var i in t)n.style[i]=t[i];return n}function getColor(n,t){return typeof n=="string"?n:n[t%n.length]}function drawLines(n,t){var u=Math.round(t.corners*t.width*500)/1e3+"px",r="none",f,i,h;for(t.shadow===!0?r="0 2px 4px #000":typeof t.shadow=="string"&&(r=t.shadow),f=parseBoxShadow(r),i=0;i<t.lines;i++){var e=~~(360/t.lines*i+t.rotate),o=css(document.createElement("div"),{position:"absolute",top:-t.width/2+"px",width:t.length+t.width+"px",height:t.width+"px",background:getColor(t.fadeColor,i),borderRadius:u,transformOrigin:"left",transform:"rotate("+e+"deg) translateX("+t.radius+"px)"}),s=i*t.direction/t.lines/t.speed;s-=1/t.speed;h=css(document.createElement("div"),{width:"100%",height:"100%",background:getColor(t.color,i),borderRadius:u,boxShadow:normalizeShadow(f,e),animation:1/t.speed+"s linear "+s+"s infinite "+t.animation});o.appendChild(h);n.appendChild(o)}}function parseBoxShadow(n){for(var o,t,f=[],u=0,e=n.split(",");u<e.length;u++)if(o=e[u],t=o.match(/^\s*([a-zA-Z]+\s+)?(-?\d+(\.\d+)?)([a-zA-Z]*)\s+(-?\d+(\.\d+)?)([a-zA-Z]*)(.*)$/),t!==null){var s=+t[2],h=+t[5],i=t[4],r=t[7];(s!==0||i||(i=r),h!==0||r||(r=i),i===r)&&f.push({prefix:t[1]||"",x:s,y:h,xUnits:i,yUnits:r,end:t[8]})}return f}function normalizeShadow(n,t){for(var i,u,f=[],r=0,e=n;r<e.length;r++)i=e[r],u=convertOffset(i.x,i.y,t),f.push(i.prefix+u[0]+i.xUnits+" "+u[1]+i.yUnits+i.end);return f.join(", ")}function convertOffset(n,t,i){var r=i*Math.PI/180,u=Math.sin(r),f=Math.cos(r);return[Math.round((n*f+t*u)*1e3)/1e3,Math.round((-n*u+t*f)*1e3)/1e3,]}var __assign=this&&this.__assign||Object.assign||function(n){for(var t,r,i=1,u=arguments.length;i<u;i++){t=arguments[i];for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},defaults={lines:12,length:7,width:5,radius:10,scale:1,corners:1,color:"#000",fadeColor:"transparent",animation:"spinner-line-fade-default",rotate:0,direction:1,speed:1,zIndex:2e9,className:"spinner",top:"50%",left:"50%",shadow:"0 0 1px transparent",position:"absolute"},Spinner=function(){function n(n){n===void 0&&(n={});this.opts=__assign({},defaults,n)}return n.prototype.spin=function(n){return this.stop(),this.el=document.createElement("div"),this.el.className=this.opts.className,this.el.setAttribute("role","progressbar"),css(this.el,{position:this.opts.position,width:0,zIndex:this.opts.zIndex,left:this.opts.left,top:this.opts.top,transform:"scale("+this.opts.scale+")"}),n&&n.insertBefore(this.el,n.firstChild||null),drawLines(this.el,this.opts),this},n.prototype.stop=function(){return this.el&&(typeof requestAnimationFrame!="undefined"?cancelAnimationFrame(this.animateId):clearTimeout(this.animateId),this.el.parentNode&&this.el.parentNode.removeChild(this.el),this.el=undefined),this},n}();